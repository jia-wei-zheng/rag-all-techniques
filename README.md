# RAG All Techniquesï¼ˆZHï¼‰

> âœ¨ æ­¤ä»“åº“ä¸ºä¸­æ–‡çš„å®žçŽ°è¿‡ç¨‹ï¼Œå¹¶å°†æ¯ä¸€æ­¥ä¸­æ–‡æ³¨é‡Šï¼Œä¸”éƒ½è·‘é€šå®žçŽ°ï¼Œç›®å‰åŸºäºŽæ–‡æœ¬è¿›è¡Œå®žçŽ°ï¼Œæ²¡æœ‰å®žçŽ°å¤šæ¨¡æ€çš„RAGã€‚è¯¦ç»†çš„å†…å®¹å¯ä»¥åŽ»çœ‹ [RESOURCES](#RESOURCES) å“¦ã€‚

è¯¥ä»“åº“é‡‡ç”¨æ¸…æ™°ã€åŠ¨æ‰‹å®žè·µçš„æ–¹æ³•æ¥å¤„ç†æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰ï¼Œå°†é«˜çº§æŠ€æœ¯åˆ†è§£ä¸ºç®€å•æ˜“æ‡‚çš„å®žçŽ°ã€‚è¿™é‡Œä¸ä¾èµ–äºŽåƒ `LangChain` æˆ– `FAISS` è¿™æ ·çš„æ¡†æž¶ï¼Œè€Œæ˜¯ä½¿ç”¨ç†Ÿæ‚‰çš„ Python åº“ `openai` ã€ `numpy` ã€ `fitz(pymupdf)` ä»¥åŠå…¶ä»–ä¸€äº›åº“æ¥å®žçŽ°ã€‚

ç›®æ ‡å¾ˆç®€å•ï¼šæä¾›æ˜“äºŽé˜…è¯»ã€ä¿®æ”¹å’Œå­¦ä¹ çš„ä»£ç ã€‚é€šè¿‡å…³æ³¨åŸºç¡€ï¼Œè¿™ä¸ªé¡¹ç›®æœ‰åŠ©äºŽæ­å¼€ RAG çš„ç¥žç§˜é¢çº±ï¼Œä½¿äººä»¬æ›´å®¹æ˜“ç†è§£å®ƒçœŸæ­£çš„å·¥ä½œåŽŸç†ã€‚

| Notebook                                                     | Description                                                  |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [01. Simple RAG ](#Simple-RAG)                               | ç®€å•çš„ RAGï¼šåŸºæœ¬çš„ RAG å®žçŽ°                                  |
| [02. Semantic Chunking](#Semantic-Chunking)                  | è¯­ä¹‰åˆ‡åˆ†ï¼šæ ¹æ®è¯­ä¹‰ç›¸ä¼¼æ€§åˆ†å‰²æ–‡æœ¬ï¼Œä»¥å½¢æˆæ›´æœ‰æ„ä¹‰çš„å—ã€‚       |
| [03. Context Enriched Retrieval RAG](#Context-Enriched-Retrieval) | ä¸Šä¸‹æ–‡å¢žå¼ºæ£€ç´¢ï¼šèŽ·å–ç›¸é‚»å—ä»¥æä¾›æ›´å¤šä¸Šä¸‹æ–‡ã€‚                 |
| [04. Contextual Chunk Headers](#Contextual-Chunk-Headers)    | ä¸Šä¸‹æ–‡åˆ†å—æ ‡é¢˜ï¼šåœ¨åµŒå…¥ä¹‹å‰ï¼Œä¸ºæ¯ä¸ªç‰‡æ®µæ·»åŠ æè¿°æ€§æ ‡é¢˜ã€‚       |
| [05. Document Augmentation RAG](#Document-Augmentation)      | æ–‡æ¡£å¢žå¼ºï¼šä»Žæ–‡æœ¬ç‰‡æ®µç”Ÿæˆé—®é¢˜ä»¥å¢žå¼ºæ£€ç´¢è¿‡ç¨‹ã€‚                 |
| [06. Query Transformation](#Query-Transformation)            | æŸ¥è¯¢è½¬æ¢ï¼šé‡æ–°ç¼–å†™ã€æ‰©å±•æˆ–åˆ†è§£æŸ¥è¯¢ä»¥æé«˜æ£€ç´¢æ•ˆæžœã€‚åŒ…æ‹¬å›žé€€æç¤ºå’Œå­æŸ¥è¯¢åˆ†è§£ã€‚ |
| [07. Reranker](#Reranker)                                    | é‡æ–°æŽ’åºå™¨ï¼šä½¿ç”¨ LLM å¯¹æœ€åˆæ£€ç´¢åˆ°çš„ç»“æžœè¿›è¡Œé‡æŽ’ï¼Œä»¥èŽ·å¾—æ›´å¥½çš„ç›¸å…³æ€§ã€‚ |
| [08. RSE](#RSE)                                              | ç›¸å…³æ®µè½æå–ï¼šè¯†åˆ«å¹¶é‡å»ºè¿žç»­çš„æ–‡æœ¬æ®µè½ï¼Œä¿ç•™ä¸Šä¸‹æ–‡ã€‚         |
| [09. Contextual Compression](#Contextual-Compression)        | ä¸Šä¸‹æ–‡åŽ‹ç¼©ï¼šå®žçŽ°ä¸Šä¸‹æ–‡åŽ‹ç¼©ä»¥è¿‡æ»¤å’ŒåŽ‹ç¼©æ£€ç´¢åˆ°çš„å—ï¼Œæœ€å¤§åŒ–ç›¸å…³ä¿¡æ¯ã€‚ |
| [10. Feedback Loop](#Feedback-Loop)                          | åé¦ˆå¾ªçŽ¯ï¼šéšæ—¶é—´æŽ¨ç§»ï¼Œé€šè¿‡ç”¨æˆ·åé¦ˆå­¦ä¹ å¹¶æ”¹è¿› RAG ç³»ç»Ÿã€‚      |
| [11. Adaptive RAG](#Adaptive-RAG)                            | é€‚åº”æ€§ RAGï¼šæ ¹æ®æŸ¥è¯¢ç±»åž‹åŠ¨æ€é€‰æ‹©æœ€ä½³æ£€ç´¢ç­–ç•¥ã€‚               |
| [12. Self RAG](#Self-RAG)                                    | Self-RAGï¼šåŠ¨æ€å†³å®šä½•æ—¶ä»¥åŠå¦‚ä½•æ£€ç´¢ï¼Œè¯„ä¼°ç›¸å…³æ€§ï¼Œå¹¶è¯„ä¼°æ”¯æŒå’Œæ•ˆç”¨ã€‚ |
| [13. Fusion RAG](#Fusion-RAG)                                | èžåˆRAGï¼šç»“åˆå‘é‡æœç´¢å’ŒåŸºäºŽå…³é”®è¯ï¼ˆBM25ï¼‰çš„æ£€ç´¢ï¼Œä»¥æ”¹å–„ç»“æžœã€‚ |
| [14. Graph RAG](#Graph-RAG)                                  | å°†çŸ¥è¯†ç»„ç»‡ä¸ºå›¾ï¼Œä½¿ç›¸å…³æ¦‚å¿µèƒ½å¤ŸéåŽ†ã€‚                         |
| [15. Hierarchy RAG](#Hierarchical-Indices)                   | æž„å»ºå±‚æ¬¡ç´¢å¼•ï¼ˆæ‘˜è¦+è¯¦ç»†ç‰‡æ®µï¼‰ï¼Œä»¥å®žçŽ°é«˜æ•ˆæ£€ç´¢ã€‚              |
| [16. HyDE RAG](#HyDE)                                        | ä½¿ç”¨å‡è®¾æ–‡æ¡£åµŒå…¥æ¥æé«˜è¯­ä¹‰åŒ¹é…ã€‚                             |
| [17. CRAG](#CRAG)                                            | çº é”™åž‹RAGï¼šåŠ¨æ€è¯„ä¼°æ£€ç´¢è´¨é‡ï¼Œå¹¶ä½¿ç”¨ç½‘ç»œæœç´¢ä½œä¸ºåŽå¤‡          |
| **åˆ†å—æŠ€æœ¯**                                                 |                                                              |
| [Proposition Chunking å‘½é¢˜åˆ†å—](#å‘½é¢˜åˆ†å—æŠ€æœ¯)               | å°†æ–‡æ¡£åˆ†è§£ä¸ºåŽŸå­äº‹å®žé™ˆè¿°ï¼Œä»¥å®žçŽ°ç²¾ç¡®æ£€ç´¢ã€‚                   |
| [Chunk Size Selector  å—å¤§å°é€‰æ‹©å™¨](#ä¸åŒå—å¤§å°)             | æŽ¢è®¨ä¸åŒå—å¤§å°å¯¹æ£€ç´¢æ€§èƒ½çš„å½±å“ã€‚                             |

## Simple RAG

æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰æ˜¯ä¸€ç§æ··åˆæ–¹æ³•ï¼Œå®ƒç»“åˆäº†ä¿¡æ¯æ£€ç´¢ä¸Žç”Ÿæˆæ¨¡åž‹ã€‚é€šè¿‡ç»“åˆå¤–éƒ¨çŸ¥è¯†ï¼Œå®ƒå¢žå¼ºäº†è¯­è¨€æ¨¡åž‹çš„è¡¨çŽ°ï¼Œæé«˜äº†å‡†ç¡®æ€§å’Œäº‹å®žçš„æ­£ç¡®æ€§ã€‚

-----
å®žçŽ°æ­¥éª¤ï¼š

- **Data Ingestionï¼ˆæ•°æ®é‡‡é›†ï¼‰**: åŠ è½½å’Œé¢„å¤„ç†æ–‡æœ¬æ•°æ®ã€‚
- **Chunkingï¼ˆåˆ†å—å¤„ç†ï¼‰**: å°†æ•°æ®åˆ†å‰²æˆæ›´å°çš„å—ä»¥æé«˜æ£€ç´¢æ€§èƒ½ã€‚
- **Embedding Creationï¼ˆåµŒå…¥åˆ›å»ºï¼‰**: ä½¿ç”¨åµŒå…¥æ¨¡åž‹å°†æ–‡æœ¬å—è½¬æ¢ä¸ºæ•°å€¼è¡¨ç¤ºã€‚
- **Semantic Searchï¼ˆè¯­ä¹‰æœç´¢ï¼‰**: æ ¹æ®ç”¨æˆ·æŸ¥è¯¢æ£€ç´¢ç›¸å…³å—ã€‚
- **Response Generationï¼ˆå“åº”ç”Ÿæˆï¼‰**ï¼šä½¿ç”¨è¯­è¨€æ¨¡åž‹æ ¹æ®æ£€ç´¢åˆ°çš„æ–‡æœ¬ç”Ÿæˆå“åº”ã€‚

![](data/images/1_VL2fP0HuSoqc66GC1vbA7w.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/01_simple_rag.ipynb)

## Semantic Chunking

æ–‡æœ¬å—åˆ‡åˆ†æ˜¯æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰ä¸­çš„å…³é”®æ­¥éª¤ï¼Œå…¶ä¸­å°†å¤§æ–‡æœ¬ä½“åˆ†å‰²æˆæœ‰æ„ä¹‰çš„æ®µè½ä»¥æé«˜æ£€ç´¢å‡†ç¡®æ€§ã€‚ä¸Žå›ºå®šé•¿åº¦å—åˆ‡åˆ†ä¸åŒï¼Œè¯­ä¹‰å—åˆ‡åˆ†æ˜¯æ ¹æ®å¥å­ä¹‹é—´çš„å†…å®¹ç›¸ä¼¼æ€§æ¥åˆ†å‰²æ–‡æœ¬çš„ã€‚

------
å®žçŽ°æ­¥éª¤ï¼š

- ä»ŽPDFæ–‡ä»¶ä¸­æå–æ–‡æœ¬ï¼šæŒ‰å¥å­è¿›è¡Œåˆ‡åˆ†
- æå–çš„æ–‡æœ¬åˆ›å»ºè¯­ä¹‰åˆ†å—ï¼š
    - å°†å‰åŽä¸¤ä¸ªç›¸é‚»çš„å¥å­è®¡ç®—ç›¸ä¼¼åº¦
    - æ ¹æ®ç›¸ä¼¼åº¦ä¸‹é™è®¡ç®—åˆ†å—çš„æ–­ç‚¹ï¼Œæ–­ç‚¹æ–¹æ³•æœ‰ä¸‰ç§ï¼šç™¾åˆ†ä½ã€æ ‡å‡†å·®å’Œå››åˆ†ä½è·
    - ç„¶åŽæ ¹æ®æ–­ç‚¹åˆ†å‰²æ–‡æœ¬ï¼Œå¾—åˆ°è¯­ä¹‰å—
- åˆ›å»ºåµŒå…¥
- æ ¹æ®æŸ¥è¯¢å¹¶æ£€ç´¢æ–‡æ¡£
- å°†æ£€ç´¢å‡ºæ¥çš„æ–‡æœ¬ç”¨äºŽæ¨¡åž‹ç”Ÿæˆå›žç­”

![](data/images/1_7b5LkCrQ7XhUN9Ktu3Q1sQ.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/02_semantic_chunking.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/02_semantic_chunking_core.py)

## Context Enriched Retrieval 

æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰é€šè¿‡ä»Žå¤–éƒ¨æ¥æºæ£€ç´¢ç›¸å…³çŸ¥è¯†æ¥å¢žå¼º AI çš„å“åº”ã€‚ä¼ ç»Ÿçš„æ£€ç´¢æ–¹æ³•è¿”å›žå­¤ç«‹çš„æ–‡æœ¬ç‰‡æ®µï¼Œè¿™å¯èƒ½å¯¼è‡´ç­”æ¡ˆä¸å®Œæ•´ã€‚
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸Šä¸‹æ–‡å¢žå¼ºæ£€ç´¢ï¼Œç¡®ä¿æ£€ç´¢åˆ°çš„ä¿¡æ¯åŒ…æ‹¬ç›¸é‚»çš„ç‰‡æ®µï¼Œä»¥å®žçŽ°æ›´å¥½çš„è¿žè´¯æ€§ã€‚

------
å®žçŽ°æ­¥éª¤ï¼š

- æ•°æ®é‡‡é›†ï¼šä»Ž PDF ä¸­æå–æ–‡æœ¬
- é‡å ä¸Šä¸‹æ–‡åˆ†å—ï¼šå°†æ–‡æœ¬åˆ†å‰²æˆé‡å çš„å—ä»¥ä¿ç•™ä¸Šä¸‹æ–‡
- åµŒå…¥åˆ›å»ºï¼šå°†æ–‡æœ¬å—è½¬æ¢ä¸ºæ•°å€¼è¡¨ç¤º
- ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€ç´¢ï¼šæ£€ç´¢ç›¸å…³å—åŠå…¶é‚»å±…ä»¥èŽ·å¾—æ›´å¥½çš„å®Œæ•´æ€§
- å›žç­”ç”Ÿæˆï¼šä½¿ç”¨è¯­è¨€æ¨¡åž‹æ ¹æ®æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ç”Ÿæˆå›žç­”ã€‚
- è¯„ä¼°ï¼šä½¿ç”¨è¯„ä¼°æ•°æ®é›†è¯„ä¼°æ¨¡åž‹æ€§èƒ½ã€‚

![](data/images/1_RtkAa3uP2XlaRs8uUAduwA.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/04_context_enriched_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/04_context_enriched_rag_core.py)

## Contextual Chunk Headers 

é€šè¿‡åœ¨ç”Ÿæˆå“åº”ä¹‹å‰æ£€ç´¢ç›¸å…³å¤–éƒ¨çŸ¥è¯†ï¼Œæ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰æé«˜äº†è¯­è¨€æ¨¡åž‹çš„äº‹å®žå‡†ç¡®æ€§ã€‚ç„¶è€Œï¼Œæ ‡å‡†çš„åˆ†å—å¾€å¾€ä¸¢å¤±é‡è¦çš„ä¸Šä¸‹æ–‡ï¼Œä½¿å¾—æ£€ç´¢æ•ˆæžœä¸ä½³ã€‚
ä¸Šä¸‹æ–‡å—æ ‡é¢˜ï¼ˆCCHï¼‰é€šè¿‡åœ¨æ¯ä¸ªå—åµŒå…¥ä¹‹å‰æ·»åŠ é«˜çº§ä¸Šä¸‹æ–‡ï¼ˆå¦‚æ–‡æ¡£æ ‡é¢˜æˆ–éƒ¨åˆ†æ ‡é¢˜ï¼‰æ¥å¢žå¼º RAGã€‚è¿™æé«˜äº†æ£€ç´¢è´¨é‡ï¼Œå¹¶é˜²æ­¢äº†ä¸ç›¸å…³çš„å“åº”ã€‚

------
å®žçŽ°æ­¥éª¤ï¼š

- æ•°æ®é‡‡é›†ï¼šä»Ž PDF ä¸­æå–æ–‡æœ¬
- **å¸¦ä¸Šä¸‹æ–‡æ ‡é¢˜çš„å—åˆ†å‰²ï¼šæå–ç« èŠ‚æ ‡é¢˜ï¼ˆæˆ–ä½¿ç”¨æ¨¡åž‹ä¸ºå—ç”Ÿæˆæ ‡é¢˜ï¼‰å¹¶å°†å…¶æ·»åŠ åˆ°å—çš„å¼€å¤´ã€‚**
- åµŒå…¥åˆ›å»ºï¼šå°†æ–‡æœ¬å—è½¬æ¢ä¸ºæ•°å€¼è¡¨ç¤º
- è¯­ä¹‰æœç´¢ï¼šæ ¹æ®ç”¨æˆ·æŸ¥è¯¢æ£€ç´¢ç›¸å…³å—
- å›žç­”ç”Ÿæˆï¼šä½¿ç”¨è¯­è¨€æ¨¡åž‹æ ¹æ®æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ç”Ÿæˆå›žç­”ã€‚
- è¯„ä¼°ï¼šä½¿ç”¨è¯„ä¼°æ•°æ®é›†è¯„ä¼°æ¨¡åž‹æ€§èƒ½ã€‚

![](data/images/Contextual Chunk Headers.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/05_contextual_chunk_headers_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/05_contextual_chunk_headers_rag_core.py)

## Document Augmentation

å¢žå¼ºçš„ RAG æ–¹æ³•ï¼Œé€šè¿‡æ–‡æ¡£å¢žå¼ºå’Œé—®é¢˜ç”Ÿæˆæ¥æ”¹è¿›ã€‚é€šè¿‡ä¸ºæ¯ä¸ªæ–‡æœ¬å—ç”Ÿæˆç›¸å…³çš„é—®é¢˜ï¼Œæˆ‘ä»¬æé«˜äº†æ£€ç´¢è¿‡ç¨‹ï¼Œä»Žè€Œä½¿å¾—è¯­è¨€æ¨¡åž‹èƒ½å¤Ÿæä¾›æ›´å¥½çš„å“åº”ã€‚

------
å®žçŽ°æ­¥éª¤ï¼š

- æ•°æ®é‡‡é›†ï¼šä»Ž PDF æ–‡ä»¶ä¸­æå–æ–‡æœ¬ã€‚
- åˆ†å—å¤„ç†ï¼šå°†æ–‡æœ¬åˆ†å‰²æˆå¯ç®¡ç†çš„å—
- **ç”Ÿæˆé—®é¢˜ï¼šä¸ºæ¯ä¸ªå—ç”Ÿæˆç›¸å…³çš„é—®é¢˜ã€‚**
- åˆ›å»ºåµŒå…¥ï¼šä¸ºå—å’Œç”Ÿæˆçš„é—®é¢˜åˆ›å»ºåµŒå…¥ã€‚
- å‘é‡å­˜å‚¨åˆ›å»ºï¼šä½¿ç”¨ NumPy æž„å»ºç®€å•çš„å‘é‡å­˜å‚¨ã€‚
- è¯­ä¹‰æœç´¢ï¼šæ£€ç´¢ä¸Žç”¨æˆ·æŸ¥è¯¢ç›¸å…³çš„ç‰‡æ®µå’Œé—®é¢˜ã€‚
- å“åº”ç”Ÿæˆï¼šæ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ç”Ÿæˆç­”æ¡ˆã€‚
- è¯„ä¼°ï¼šè¯„ä¼°ç”Ÿæˆå“åº”çš„è´¨é‡ã€‚

![](data/images/Document Augmentation.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/06_doc_augmentation_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/06_doc_augmentation_rag_core.py)

## Query Transformation

é€šè¿‡ä¿®æ”¹ç”¨æˆ·æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾è‘—æé«˜æ£€ç´¢ä¿¡æ¯çš„å…³è”æ€§å’Œå…¨é¢æ€§ã€‚

å®žçŽ°äº†ä¸‰ç§æŸ¥è¯¢è½¬æ¢æŠ€æœ¯ï¼Œä»¥åœ¨ä¸ä¾èµ– LangChain ç­‰ä¸“ç”¨åº“çš„æƒ…å†µä¸‹å¢žå¼º RAG ç³»ç»Ÿä¸­çš„æ£€ç´¢æ€§èƒ½ã€‚

------
æ ¸å¿ƒæ¦‚å¿µ

1. æŸ¥è¯¢é‡å†™ï¼šä½¿æŸ¥è¯¢æ›´åŠ å…·ä½“å’Œè¯¦ç»†ï¼Œä»Žè€Œæé«˜æœç´¢ç²¾åº¦ã€‚

2. å›žé€€æç¤ºï¼šç”Ÿæˆæ›´å¹¿æ³›çš„æŸ¥è¯¢ï¼Œä»¥æ£€ç´¢æœ‰ç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚

3. å­æŸ¥è¯¢åˆ†è§£ï¼šå°†å¤æ‚æŸ¥è¯¢æ‹†åˆ†ä¸ºæ›´ç®€å•çš„ç»„ä»¶ï¼Œä»¥å®žçŽ°å…¨é¢æ£€ç´¢ã€‚

------
å®žçŽ°æ­¥éª¤ï¼š

- å¤„ç†æ–‡æ¡£ä»¥åˆ›å»ºå‘é‡å­˜å‚¨ï¼šä»ŽPDF ä¸­æå–æ–‡æœ¬ï¼Œåˆ†å‰²æ–‡æœ¬å—å¹¶åˆ›å»ºå‘é‡å­˜å‚¨
- åº”ç”¨æŸ¥è¯¢è½¬æ¢æŠ€æœ¯ï¼š
    - æŸ¥è¯¢é‡å†™ï¼ˆQuery Rewritingï¼‰ï¼šé€šè¿‡ä½¿æŸ¥è¯¢æ›´åŠ å…·ä½“å’Œè¯¦ç»†ï¼Œä»Žè€Œæé«˜æ£€ç´¢çš„å‡†ç¡®æ€§
    - å›žé€€æç¤ºï¼ˆStep-back Promptingï¼‰ï¼šç”Ÿæˆæ›´å¹¿æ³›çš„æŸ¥è¯¢ä»¥æ£€ç´¢ä¸Šä¸‹æ–‡èƒŒæ™¯ä¿¡æ¯
    - å­æŸ¥è¯¢åˆ†è§£ï¼ˆSub-query Decompositionï¼‰ï¼šå°†å¤æ‚æŸ¥è¯¢æ‹†åˆ†ä¸ºæ›´ç®€å•çš„ç»„æˆéƒ¨åˆ†ï¼Œä»¥å®žçŽ°å…¨é¢æ£€ç´¢
- é€šè¿‡ä¸Šé¢çš„æŸ¥è¯¢è½¬æ¢ï¼Œåˆ›å»ºæ–°æŸ¥è¯¢åµŒå…¥å¹¶æ£€ç´¢æ–‡æ¡£
- æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ç”Ÿæˆå›žç­”

![](data/images/Query Transformation.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/07_query_transform.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/07_query_transform_core.py)

## Reranker

å®žçŽ°é‡æŽ’åºæŠ€æœ¯ä»¥æé«˜ RAG ç³»ç»Ÿä¸­çš„æ£€ç´¢è´¨é‡ã€‚é‡æŽ’åºä½œä¸ºåˆå§‹æ£€ç´¢åŽçš„ç¬¬äºŒæ­¥è¿‡æ»¤ï¼Œç¡®ä¿ä½¿ç”¨æœ€ç›¸å…³çš„å†…å®¹è¿›è¡Œå“åº”ç”Ÿæˆã€‚

------
æ ¸å¿ƒæ¦‚å¿µ

1. **åˆå§‹æ£€ç´¢**ï¼šç¬¬ä¸€è½®ä½¿ç”¨åŸºç¡€ç›¸ä¼¼æ€§æœç´¢ï¼ˆé€Ÿåº¦è¾ƒå¿«ä½†å‡†ç¡®æ€§è¾ƒä½Žï¼‰
2. **æ–‡æ¡£è¯„åˆ†**ï¼šè¯„ä¼°æ¯ä¸ªæ£€ç´¢åˆ°çš„æ–‡æ¡£ä¸ŽæŸ¥è¯¢çš„ç›¸å…³æ€§
3. **é‡æ–°æŽ’åº**ï¼šæŒ‰ç›¸å…³æ€§åˆ†æ•°å¯¹æ–‡æ¡£è¿›è¡ŒæŽ’åº
4. **é€‰æ‹©**ï¼šä»…ä½¿ç”¨æœ€ç›¸å…³çš„æ–‡æ¡£è¿›è¡Œå“åº”ç”Ÿæˆ

------
å®žçŽ°æ­¥éª¤ï¼š

- å¤„ç†æ–‡æ¡£ä»¥åˆ›å»ºå‘é‡å­˜å‚¨ï¼šä»ŽPDF ä¸­æå–æ–‡æœ¬ï¼Œåˆ†å‰²æ–‡æœ¬å—å¹¶åˆ›å»ºå‘é‡å­˜å‚¨
- åˆ›å»ºæŸ¥è¯¢åµŒå…¥å¹¶æ£€ç´¢æ–‡æ¡£ï¼šåˆæ­¥æŸ¥è¯¢ï¼Œéœ€è¦å¬å›žè¾ƒå¤šæ–‡æ¡£
- åº”ç”¨é‡æŽ’ï¼š
    - åŸºäºŽ LLM çš„é‡æŽ’åºï¼šä½¿ç”¨ LLM ç›¸å…³æ€§è¯„åˆ†å¯¹æœç´¢ç»“æžœè¿›è¡Œé‡æŽ’åº
    - åŸºäºŽå…³é”®è¯çš„é‡æŽ’åºï¼šå…³é”®è¯åŒ¹é…çš„æ¬¡æ•°å’Œå…³é”®è¯æ‰€åœ¨ä½ç½®çš„ç®€å•é‡æŽ’åºæ–¹æ³•
- åˆ©ç”¨é‡æŽ’åºç»„åˆæˆçš„ä¸Šä¸‹æ–‡ç”Ÿæˆå›žç­”

![](data/images/Reranker.webp)

-----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/08_reranker.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/08_reranker_core.py)

## RSE 

å…³è”æ®µè½æå–ï¼ˆRelevant Segment Extractionï¼ŒRSEï¼‰æŠ€æœ¯ï¼Œä»¥æé«˜RAGç³»ç»Ÿçš„ä¸Šä¸‹æ–‡è´¨é‡ã€‚RSEä¸ä»…ä»…æ£€ç´¢ä¸€ç»„å­¤ç«‹çš„ç‰‡æ®µï¼Œè€Œæ˜¯è¯†åˆ«å¹¶é‡å»ºæä¾›æ›´å¥½ä¸Šä¸‹æ–‡çš„è¿žç»­æ–‡æœ¬æ®µè½ï¼Œä»Žè€Œä¸ºè¯­è¨€æ¨¡åž‹æä¾›æ›´å¥½çš„æ”¯æŒã€‚

-----
æ ¸å¿ƒæ¦‚å¿µï¼š

ç›¸å…³çš„ç‰‡æ®µå¾€å¾€ä¼šåœ¨æ–‡æ¡£ä¸­èšé›†æˆç°‡ã€‚é€šè¿‡è¯†åˆ«è¿™äº›ç°‡å¹¶ä¿æŒå…¶è¿žç»­æ€§ï¼ŒRSEä¸ºå¤§åž‹è¯­è¨€æ¨¡åž‹æä¾›äº†æ›´åŠ è¿žè´¯çš„ä¸Šä¸‹æ–‡ã€‚

-----
å®žçŽ°æ­¥éª¤ï¼š

- å¤„ç†æ–‡æ¡£ä»¥åˆ›å»ºå‘é‡å­˜å‚¨ï¼šä»ŽPDF ä¸­æå–æ–‡æœ¬ï¼Œåˆ†å‰²æ–‡æœ¬å—ï¼ˆ0é‡å ï¼‰å¹¶åˆ›å»ºå‘é‡å­˜å‚¨
- æ ¹æ®æŸ¥è¯¢è®¡ç®—ç›¸å…³æ€§åˆ†æ•°å’Œå—å€¼ï¼š
    - å…ˆèŽ·å–æ‰€æœ‰å¸¦æœ‰ç›¸ä¼¼åº¦åˆ†æ•°çš„å—ï¼›
    - èŽ·å–ç›¸å…³æ€§åˆ†æ•°ï¼Œå¦‚æžœä¸åœ¨ç»“æžœä¸­åˆ™é»˜è®¤ä¸º0ï¼ŒåŒæ—¶åº”ç”¨æƒ©ç½šä»¥å°†ä¸ç›¸å…³çš„å—è½¬æ¢ä¸ºè´Ÿå€¼
- æ ¹æ®å—å€¼æ‰¾åˆ°æœ€ä½³æ–‡æœ¬å—ï¼šä½¿ç”¨æœ€å¤§å­æ•°ç»„å’Œç®—æ³•çš„å˜ä½“æ‰¾åˆ°æœ€ä½³
- ä»Žæœ€ä½³å—ä¸­é‡å»ºæ–‡æœ¬æ®µè½ï¼šåŸºäºŽå—ç´¢å¼•é‡å»ºæ–‡æœ¬æ®µè½
- åˆ©ç”¨å°†æ®µè½æ ¼å¼åŒ–ä¸ºä¸Šä¸‹æ–‡ç”Ÿæˆå›žç­”

![](data/images/RSE.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/09_rse.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/09_rse_core.py)

## Contextual Compression

ä¸Šä¸‹æ–‡æƒ…å¢ƒåŽ‹ç¼©æŠ€æœ¯ï¼ˆContextual Compressionï¼‰ï¼Œä»¥æé«˜ RAG ç³»ç»Ÿçš„æ•ˆçŽ‡ã€‚è¿‡æ»¤å¹¶åŽ‹ç¼©æ£€ç´¢åˆ°çš„æ–‡æœ¬å—ï¼Œåªä¿ç•™æœ€ç›¸å…³çš„å†…å®¹ï¼Œä»Žè€Œå‡å°‘å™ªå£°å¹¶æé«˜å“åº”è´¨é‡ã€‚

åœ¨ä¸º RAG æ£€ç´¢æ–‡æ¡£æ—¶ï¼Œç»å¸¸å¾—åˆ°åŒ…å«ç›¸å…³å’Œä¸ç›¸å…³ä¿¡æ¯çš„å—ã€‚ä¸Šä¸‹æ–‡åŽ‹ç¼©å¯ä»¥å¸®åŠ©æˆ‘ä»¬ï¼š

- åˆ é™¤æ— å…³çš„å¥å­å’Œæ®µè½
- ä»…å…³æ³¨ä¸ŽæŸ¥è¯¢ç›¸å…³çš„ä¿¡æ¯
- åœ¨ä¸Šä¸‹æ–‡çª—å£ä¸­æœ€å¤§åŒ–æœ‰ç”¨ä¿¡å·

æœ¬æ–‡æä¾›äº†ä¸‰ç§æ–¹æ³•ï¼š

1. è¿‡æ»¤ï¼ˆselectiveï¼‰ï¼šåˆ†æžæ–‡æ¡£å—å¹¶ä»…æå–ä¸Žç”¨æˆ·æŸ¥è¯¢ç›´æŽ¥ç›¸å…³çš„å¥å­æˆ–æ®µè½ï¼Œç§»é™¤æ‰€æœ‰æ— å…³å†…å®¹ã€‚
2. æ‘˜è¦ï¼ˆsummaryï¼‰ï¼šåˆ›å»ºæ–‡æ¡£å—çš„ç®€æ´æ‘˜è¦ï¼Œä¸”ä»…èšç„¦ä¸Žç”¨æˆ·æŸ¥è¯¢ç›¸å…³çš„ä¿¡æ¯ã€‚
3. æŠ½å–ï¼ˆextractionï¼‰ï¼šä»Žæ–‡æ¡£å—ä¸­ç²¾ç¡®æå–ä¸Žç”¨æˆ·æŸ¥è¯¢ç›¸å…³çš„å®Œæ•´å¥å­ã€‚

-----
å®žçŽ°æ­¥éª¤ï¼š

- å¤„ç†æ–‡æ¡£ä»¥åˆ›å»ºå‘é‡å­˜å‚¨ï¼šä»ŽPDF ä¸­æå–æ–‡æœ¬ï¼Œåˆ†å‰²æ–‡æœ¬å—å¹¶åˆ›å»ºå‘é‡å­˜å‚¨
- åˆ›å»ºæŸ¥è¯¢åµŒå…¥å¹¶æ£€ç´¢æ–‡æ¡£ï¼Œæ£€ç´¢æœ€ç›¸ä¼¼çš„å‰kä¸ªå—
- å¯¹æ£€ç´¢åˆ°çš„å—åº”ç”¨åŽ‹ç¼©ï¼š
    - è¿‡æ»¤ï¼ˆselectiveï¼‰ï¼šåˆ†æžæ–‡æ¡£å—å¹¶ä»…æå–ä¸Žç”¨æˆ·æŸ¥è¯¢ç›´æŽ¥ç›¸å…³çš„å¥å­æˆ–æ®µè½ï¼Œç§»é™¤æ‰€æœ‰æ— å…³å†…å®¹ã€‚
    - æ‘˜è¦ï¼ˆsummaryï¼‰ï¼šåˆ›å»ºæ–‡æ¡£å—çš„ç®€æ´æ‘˜è¦ï¼Œä¸”ä»…èšç„¦ä¸Žç”¨æˆ·æŸ¥è¯¢ç›¸å…³çš„ä¿¡æ¯
    - æŠ½å–ï¼ˆextractionï¼‰ï¼šä»Žæ–‡æ¡£å—ä¸­ç²¾ç¡®æå–ä¸Žç”¨æˆ·æŸ¥è¯¢ç›¸å…³çš„å®Œæ•´å¥å­
- è¿‡æ»¤æŽ‰ä»»ä½•ç©ºçš„åŽ‹ç¼©å—
- åŸºäºŽåŽ‹ç¼©å—å½¢æˆä¸Šä¸‹æ–‡å†…å®¹ï¼Œç„¶åŽç”Ÿæˆå›žç­”

![](data/images/Contextual Compression.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/10_contextual_compression.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/10_contextual_compression_core.py)

## Feedback Loop

å®žçŽ°ä¸€ä¸ªå…·å¤‡åé¦ˆå¾ªçŽ¯æœºåˆ¶çš„RAGç³»ç»Ÿï¼Œé€šè¿‡æŒç»­å­¦ä¹ å®žçŽ°æ€§èƒ½è¿­ä»£ä¼˜åŒ–ã€‚ç³»ç»Ÿå°†æ”¶é›†å¹¶æ•´åˆç”¨æˆ·åé¦ˆæ•°æ®ï¼Œä½¿æ¯æ¬¡äº¤äº’éƒ½èƒ½æå‡å›žç­”çš„ç›¸å…³æ€§ä¸Žè´¨é‡ã€‚

-----
ä¼ ç»ŸRAGç³»ç»Ÿé‡‡ç”¨é™æ€æ£€ç´¢æ¨¡å¼ï¼Œä»…ä¾èµ–åµŒå…¥ç›¸ä¼¼æ€§èŽ·å–ä¿¡æ¯ã€‚è€Œæœ¬ç³»ç»Ÿé€šè¿‡åé¦ˆå¾ªçŽ¯æž„å»ºåŠ¨æ€ä¼˜åŒ–æ¡†æž¶ï¼Œå®žçŽ°ï¼š

- è®°å¿†æœ‰æ•ˆ/æ— æ•ˆçš„äº¤äº’æ¨¡å¼
- åŠ¨æ€è°ƒæ•´æ–‡æ¡£ç›¸å…³æ€§æƒé‡
- å°†ä¼˜è´¨é—®ç­”å¯¹æ•´åˆè‡³çŸ¥è¯†åº“
- é€šè¿‡ç”¨æˆ·äº’åŠ¨æŒç»­å¢žå¼ºæ™ºèƒ½æ°´å¹³

-----
å®žçŽ°æ­¥éª¤ï¼š

- åŠ è½½åŽ†å²åé¦ˆæ•°æ®é›†
- æ–‡æ¡£é¢„å¤„ç†ä¸Žåˆ†å—å¤„ç†
- å¯é€‰åŸºäºŽåŽ†å²åé¦ˆå¾®è°ƒå‘é‡ç´¢å¼•
- åŸºäºŽåé¦ˆä¿®æ­£çš„ç›¸å…³æ€§è¯„åˆ†æ‰§è¡Œæ£€ç´¢ä¸Žç”Ÿæˆ
- æ”¶é›†æ–°ç”¨æˆ·åé¦ˆæ•°æ®ç”¨äºŽåŽç»­ä¼˜åŒ–
- æŒä¹…åŒ–å­˜å‚¨åé¦ˆæ•°æ®æ”¯æ’‘ç³»ç»ŸæŒç»­å­¦ä¹ èƒ½åŠ›

![](data/images/Feedback Loop.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/11_feedback_loop_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/11_feedback_loop_rag_core.py)

## Adaptive RAG

è‡ªé€‚åº”æ£€ç´¢(Adaptive Retrieval)ç³»ç»Ÿå¯æ ¹æ®æŸ¥è¯¢ç±»åž‹åŠ¨æ€é€‰æ‹©æœ€ä¼˜æ£€ç´¢ç­–ç•¥ï¼Œè¯¥æ–¹æ³•æ˜¾è‘—æå‡RAGç³»ç»Ÿåœ¨å¤šæ ·åŒ–é—®é¢˜åœºæ™¯ä¸‹çš„å“åº”å‡†ç¡®æ€§ä¸Žç›¸å…³æ€§ã€‚

-----
ä¸åŒæŸ¥è¯¢ç±»åž‹éœ€åŒ¹é…å·®å¼‚åŒ–æ£€ç´¢ç­–ç•¥ï¼Œæœ¬ç³»ç»Ÿå®žçŽ°å››é˜¶ä¼˜åŒ–æµç¨‹ï¼š

1. æŸ¥è¯¢ç±»åž‹åˆ†ç±»ï¼ˆäº‹å®žæ€§/åˆ†æžæ€§/æ„è§æ€§/ä¸Šä¸‹æ–‡åž‹ï¼‰
2. è‡ªé€‚åº”é€‰æ‹©æ£€ç´¢ç­–ç•¥
3. æ‰§è¡Œä¸“é—¨çš„æ£€ç´¢æŠ€æœ¯
4. ç”Ÿæˆå®šåˆ¶åŒ–å“åº”

-----
å®žçŽ°æ­¥éª¤ï¼š

- å¤„ç†æ–‡æ¡£ä»¥æå–æ–‡æœ¬ï¼Œå°†å…¶åˆ†å—ï¼Œå¹¶åˆ›å»ºåµŒå…¥å‘é‡
- å¯¹æŸ¥è¯¢è¿›è¡Œåˆ†ç±»ä»¥ç¡®å®šå…¶ç±»åž‹ï¼šæŸ¥è¯¢åˆ†ä¸ºäº‹å®žæ€§ï¼ˆFactualï¼‰ã€åˆ†æžæ€§ï¼ˆAnalyticalï¼‰ã€æ„è§æ€§ï¼ˆOpinionï¼‰æˆ–ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContextualï¼‰ã€‚
- æ ¹æ®æŸ¥è¯¢ç±»åž‹ä½¿ç”¨è‡ªé€‚åº”æ£€ç´¢ç­–ç•¥æ£€ç´¢æ–‡æ¡£
- æ ¹æ®æŸ¥è¯¢ã€æ£€ç´¢åˆ°çš„æ–‡æ¡£å’ŒæŸ¥è¯¢ç±»åž‹ç”Ÿæˆå›žç­”

![](data/images/Adaptive RAG.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/12_adaptive_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/12_adaptive_rag_core.py)

## Self RAG

Self-RAGâ€”â€”è¿™æ˜¯ä¸€ä¸ªå…ˆè¿›çš„ RAG ç³»ç»Ÿï¼Œèƒ½å¤ŸåŠ¨æ€å†³å®šä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨æ£€ç´¢åˆ°çš„ä¿¡æ¯ã€‚ä¸Žä¼ ç»Ÿ RAG æ–¹æ³•ä¸åŒï¼ŒSelf-RAG
åœ¨æ•´ä¸ªæ£€ç´¢å’Œç”Ÿæˆè¿‡ç¨‹ä¸­å¼•å…¥äº†åæ€ç‚¹ï¼Œä»Žè€Œäº§ç”Ÿæ›´é«˜å“è´¨å’Œæ›´å¯é çš„å›žç­”ã€‚

-----
Self-RAG æ ¸å¿ƒç»„ä»¶

1. **æ£€ç´¢å†³ç­–**ï¼šåˆ¤æ–­ç‰¹å®šæŸ¥è¯¢æ˜¯å¦éœ€è¦æ‰§è¡Œæ£€ç´¢
2. **æ–‡æ¡£æ£€ç´¢**ï¼šåœ¨éœ€è¦æ—¶èŽ·å–æ½œåœ¨ç›¸å…³æ–‡æ¡£
3. **ç›¸å…³æ€§è¯„ä¼°**ï¼šè¯„ä¼°æ¯ä¸ªæ£€ç´¢æ–‡æ¡£çš„ç›¸å…³ç¨‹åº¦
4. **å“åº”ç”Ÿæˆ**ï¼šåŸºäºŽç›¸å…³ä¸Šä¸‹æ–‡æž„å»ºå›žç­”
5. **æ”¯æŒæ€§è¯„ä¼°**ï¼šéªŒè¯å›žç­”æ˜¯å¦åŸºäºŽä¸Šä¸‹æ–‡æ­£ç¡®é”šå®š
6. **æ•ˆç”¨è¯„ä¼°**ï¼šå¯¹ç”Ÿæˆå›žç­”çš„æ•´ä½“å®žç”¨æ€§è¿›è¡Œè¯„åˆ†

-----
å®žçŽ°æ­¥éª¤ï¼š

- ç¡®å®šæ˜¯å¦éœ€è¦æ£€ç´¢ï¼Œæ£€ç´¢å†³ç­–ï¼šLLMåˆ¤æ–­æ˜¯å¦éœ€è¦æ£€ç´¢ï¼Œäº‹å®žæ€§çš„æŸ¥è¯¢éœ€è¦æ£€ç´¢ï¼Œè§‚ç‚¹ç±»çš„æŸ¥è¯¢ä¸éœ€è¦æ£€ç´¢
- æ£€ç´¢æ–‡æ¡£ï¼šåˆ›å»ºæŸ¥è¯¢çš„åµŒå…¥å‘é‡ç„¶åŽæ£€ç´¢æ–‡æ¡£
- è¯„ä¼°æ–‡æ¡£ç›¸å…³æ€§ï¼šç”¨æ¨¡åž‹è¯„ä¼°æ¯ä¸ªæ–‡æ¡£å—çš„ç›¸å…³æ€§ï¼Œå¦‚æžœç›¸å…³ï¼Œå°†å…¶åŠ å…¥ä¸Šä¸‹æ–‡åˆ—è¡¨ä¸­
- å¤„ç†æ¯ä¸ªç›¸å…³ä¸Šä¸‹æ–‡ï¼Œç”¨æ¨¡åž‹è¿›è¡Œæ”¯æŒæ€§è¯„ä¼°å’Œæ•ˆç”¨è¯„ä¼°
- æ‰¾å‡ºæœ€ä½³ç­”æ¡ˆï¼šå¯¹ç”Ÿæˆçš„ç­”æ¡ˆè¿›è¡Œæ•ˆç”¨è¯„ä¼°ï¼Œå¹¶é€‰æ‹©æœ€ä½³ç­”æ¡ˆ

![](data/images/Self RAG.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/13_self_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/13_self_rag_core.py)

## Fusion RAG

å®žçŽ°ä¸€ä¸ªèžåˆæ£€ç´¢ç³»ç»Ÿï¼Œå°†è¯­ä¹‰å‘é‡æœç´¢ä¸ŽåŸºäºŽå…³é”®è¯çš„BM25æ£€ç´¢ä¼˜åŠ¿ç›¸ç»“åˆã€‚è¿™ç§æ–¹æ³•é€šè¿‡åŒæ—¶æ•èŽ·æ¦‚å¿µç›¸ä¼¼æ€§å’Œç²¾ç¡®å…³é”®è¯åŒ¹é…ï¼Œæå‡äº†æ£€ç´¢è´¨é‡ã€‚

-----
ä¸ºä»€ä¹ˆèžåˆæ£€ç´¢å¾ˆé‡è¦?

ä¼ ç»Ÿçš„RAGç³»ç»Ÿé€šå¸¸ä»…ä¾èµ–å‘é‡æœç´¢ï¼Œä½†è¿™å­˜åœ¨å±€é™æ€§ï¼š

- å‘é‡æœç´¢æ“…é•¿æ•æ‰è¯­ä¹‰ç›¸ä¼¼æ€§ï¼Œä½†å¯èƒ½é—æ¼ç²¾ç¡®å…³é”®è¯åŒ¹é…
- å…³é”®è¯æœç´¢é€‚åˆç‰¹å®šæœ¯è¯­æ£€ç´¢ï¼Œä½†ç¼ºä¹è¯­ä¹‰ç†è§£èƒ½åŠ›
- ä¸åŒç±»åž‹çš„æŸ¥è¯¢åœ¨ä¸åŒæ£€ç´¢æ–¹æ³•ä¸­è¡¨çŽ°å·®å¼‚æ˜¾è‘—

-----
èžåˆæ£€ç´¢é€šè¿‡ä»¥ä¸‹æ–¹å¼å®žçŽ°ä¼˜åŠ¿äº’è¡¥ï¼š

- å¹¶è¡Œæ‰§è¡ŒåŸºäºŽå‘é‡å’ŒåŸºäºŽå…³é”®è¯çš„æ£€ç´¢
- å¯¹ä¸¤ç§æ–¹æ³•çš„å¾—åˆ†è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†
- é€šè¿‡åŠ æƒå…¬å¼ç»„åˆä¸¤è€…ç»“æžœ
- åŸºäºŽç»¼åˆå¾—åˆ†å¯¹æ–‡æ¡£è¿›è¡Œé‡æ–°æŽ’åº

-----
å®žçŽ°æ­¥éª¤ï¼š

- ä»Ž PDF æ–‡ä»¶ä¸­æå–æ–‡æœ¬
- ä½¿ç”¨ jieba åˆ†è¯å™¨å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ï¼Œå¹¶åˆ›å»ºå‘é‡å­˜å‚¨
- ä½¿ç”¨ BM25 ç®—æ³•å¯¹æŸ¥è¯¢è¿›è¡Œå…³é”®è¯åŒ¹é…
- ä½¿ç”¨å‘é‡æœç´¢å¯¹æŸ¥è¯¢è¿›è¡Œè¯­ä¹‰åŒ¹é…
- å°†ä¸¤ç§æ–¹æ³•çš„ç»“æžœè¿›è¡ŒåŠ æƒç»„åˆï¼Œå¹¶é‡æ–°æŽ’åº
- è¿”å›žæœ€ç»ˆçš„æœç´¢ç»“æžœ

![](data/images/Fusion.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/16_fusion_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/16_fusion_rag_core.py)

## Graph RAG

Graph RAG - ä¸€ç§é€šè¿‡å°†çŸ¥è¯†ç»„ç»‡ä¸ºè¿žæŽ¥å›¾æ¥å¢žå¼ºä¼ ç»ŸRAGç³»ç»Ÿçš„æŠ€å·§ï¼Œè€Œä¸æ˜¯å°†çŸ¥è¯†ä½œä¸ºå¹³é¢æ–‡æ¡£é›†åˆã€‚è¿™ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿå¯¼èˆªç›¸å…³æ¦‚å¿µï¼Œå¹¶æ‰¾åˆ°æ¯”æ ‡å‡†å‘é‡ç›¸ä¼¼æ€§æ–¹æ³•æ›´ç¬¦åˆä¸Šä¸‹æ–‡çš„ç›¸å…³ä¿¡æ¯ã€‚

------
Graph RAGçš„å…³é”®ä¼˜åŠ¿

- ä¿ç•™ä¿¡æ¯ä¹‹é—´çš„å…³ç³»
- é€šè¿‡è¿žæŽ¥çš„æ¦‚å¿µå¯ç”¨ä¸Šä¸‹æ–‡çš„éåŽ†
- æé«˜å¤„ç†å¤æ‚ã€å¤šéƒ¨åˆ†æŸ¥è¯¢çš„èƒ½åŠ›
- é€šè¿‡å¯è§†åŒ–çŸ¥è¯†è·¯å¾„æä¾›æ›´å¥½çš„è§£é‡Šæ€§

------
å®žçŽ°æ­¥éª¤ï¼š

- ä»ŽPDFä¸­æå–æ–‡æœ¬
- å°†æå–çš„æ–‡æœ¬åˆ†å‰²æˆé‡å çš„å—
- ä»Žæ–‡æœ¬å—æž„å»ºçŸ¥è¯†å›¾è°±ï¼Œç”¨æ¨¡åž‹ä»Žæ–‡æœ¬å—ä¸­æ€»ç»“å‡ºå…³é”®æ¦‚å¿µï¼Œç„¶åŽåˆ©ç”¨å…³é”®æ¦‚å¿µæž„å»ºçŸ¥è¯†å›¾è°±èŠ‚ç‚¹ï¼Œæ ¹æ®æ¦‚å¿µé‡å å’Œè¯­ä¹‰ç›¸ä¼¼æ€§è®¡ç®—è¾¹æƒé‡ï¼Œè®¾ç½®è¾¹ï¼Œä»Žè€Œåˆ›å»ºçŸ¥è¯†å›¾è°±
- éåŽ†çŸ¥è¯†å›¾è°±ä»¥æ‰¾åˆ°ä¸ŽæŸ¥è¯¢ç›¸å…³çš„ä¿¡æ¯ï¼Œè®¡ç®—æŸ¥è¯¢ä¸Žæ‰€æœ‰èŠ‚ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼ŒæŒ‰ç›¸ä¼¼åº¦æŽ’åºï¼ˆé™åºï¼‰ï¼ŒèŽ·å–æœ€ç›¸ä¼¼çš„å‰ top-k
  ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—è¿›è¡Œå¹¿åº¦éåŽ†ï¼ŒæŸ¥æ‰¾å‡ºä¸ŽæŸ¥è¯¢æœ€ç›¸å…³çš„ä¿¡æ¯
- æ ¹æ®æŸ¥è¯¢å’Œç›¸å…³å—ç”Ÿæˆå“åº”

![](data/images/Knowledge Graph.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/17_graph_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/17_graph_rag_core.py)

## Hierarchical Indices

å®žçŽ°ä¸€ç§ç”¨äºŽRAGç³»ç»Ÿçš„åˆ†çº§ç´¢å¼•æ–¹æ³•(Hierarchical Indices)ã€‚è¿™ç§æŠ€æœ¯é€šè¿‡ä½¿ç”¨ä¸¤çº§æœç´¢æ–¹æ³•æ¥æé«˜æ£€ç´¢æ•ˆæžœï¼šé¦–å…ˆé€šè¿‡æ‘˜è¦è¯†åˆ«ç›¸å…³çš„æ–‡æ¡£éƒ¨åˆ†ï¼Œç„¶åŽä»Žè¿™äº›éƒ¨åˆ†ä¸­æ£€ç´¢å…·ä½“ç»†èŠ‚ã€‚

-----
ä¼ ç»Ÿçš„RAGæ–¹æ³•å°†æ‰€æœ‰æ–‡æœ¬å—ä¸€è§†åŒä»ï¼Œè¿™å¯èƒ½å¯¼è‡´ï¼š

- å½“æ–‡æœ¬å—è¿‡å°æ—¶ï¼Œä¸Šä¸‹æ–‡ä¿¡æ¯ä¸¢å¤±
- å½“æ–‡æ¡£é›†åˆè¾ƒå¤§æ—¶ï¼Œæ£€ç´¢ç»“æžœæ— å…³
- åœ¨æ•´ä¸ªè¯­æ–™åº“ä¸­æœç´¢æ•ˆçŽ‡ä½Žä¸‹

-----
åˆ†çº§æ£€ç´¢è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š

- ä¸ºè¾ƒå¤§çš„æ–‡æ¡£éƒ¨åˆ†åˆ›å»ºç®€æ´çš„æ‘˜è¦
- é¦–å…ˆæœç´¢è¿™äº›æ‘˜è¦ä»¥ç¡®å®šç›¸å…³éƒ¨åˆ†
- ç„¶åŽä»…ä»Žè¿™äº›éƒ¨åˆ†ä¸­æ£€ç´¢è¯¦ç»†ä¿¡æ¯
- åœ¨ä¿ç•™å…·ä½“ç»†èŠ‚çš„åŒæ—¶ä¿æŒä¸Šä¸‹æ–‡ä¿¡æ¯

-----
å®žçŽ°æ­¥éª¤ï¼š

- ä»Ž PDF ä¸­æå–é¡µé¢
- ä¸ºæ¯ä¸€é¡µåˆ›å»ºæ‘˜è¦ï¼Œå°†æ‘˜è¦æ–‡æœ¬å’Œå…ƒæ•°æ®æ·»åŠ åˆ°æ‘˜è¦åˆ—è¡¨ä¸­
- ä¸ºæ¯ä¸€é¡µåˆ›å»ºè¯¦ç»†å—ï¼Œå°†é¡µé¢çš„æ–‡æœ¬åˆ‡åˆ†ä¸ºå—
- ä¸ºä»¥ä¸Šä¸¤ä¸ªåˆ›å»ºåµŒå…¥ï¼Œå¹¶è¡Œå…¶å­˜å…¥å‘é‡å­˜å‚¨ä¸­
- ä½¿ç”¨æŸ¥è¯¢åˆ†å±‚æ£€ç´¢ç›¸å…³å—ï¼šå…ˆæ£€ç´¢ç›¸å…³çš„æ‘˜è¦ï¼Œæ”¶é›†æ¥è‡ªç›¸å…³æ‘˜è¦çš„é¡µé¢ï¼Œç„¶åŽè¿‡æ»¤æŽ‰ä¸æ˜¯ç›¸å…³é¡µé¢çš„å—ï¼Œä»Žè¿™äº›ç›¸å…³é¡µé¢æ£€ç´¢è¯¦ç»†å—
- æ ¹æ®æ£€ç´¢åˆ°çš„å—ç”Ÿæˆå›žç­”

![](data/images/Hierarchical Indices.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/18_hierarchy_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/18_hierarchy_rag_core.py)

## HyDE

å®žçŽ° HyDEï¼ˆHypothetical Document Embeddingï¼Œå‡è®¾æ–‡æ¡£åµŒå…¥ï¼‰â€”â€”è¿™æ˜¯ä¸€ç§åˆ›æ–°çš„æ£€ç´¢æŠ€æœ¯ï¼Œå®ƒå°†ç”¨æˆ·æŸ¥è¯¢è½¬åŒ–ä¸ºå‡è®¾æ€§çš„å›žç­”æ–‡æ¡£åŽå†è¿›è¡Œæ£€ç´¢ã€‚è¿™ç§æ–¹æ³•å¼¥è¡¥äº†çŸ­æŸ¥è¯¢ä¸Žé•¿æ–‡æ¡£ä¹‹é—´çš„è¯­ä¹‰å·®è·ã€‚

------
ä¼ ç»Ÿçš„ RAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢žå¼ºç”Ÿæˆï¼‰ç³»ç»Ÿæ˜¯ç›´æŽ¥å¯¹ç”¨æˆ·çš„ç®€çŸ­æŸ¥è¯¢è¿›è¡ŒåµŒå…¥å¤„ç†ï¼Œä½†è¿™ç§æ–¹å¼å¾€å¾€æ— æ³•æ•æ‰åˆ°æœ€ä½³æ£€ç´¢æ‰€éœ€çš„ä¸°å¯Œè¯­ä¹‰ä¿¡æ¯ã€‚HyDE
é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼š

- **ç”Ÿæˆä¸€ä¸ªå‡è®¾æ€§æ–‡æ¡£æ¥å›žç­”è¯¥æŸ¥è¯¢**
- **å¯¹è¯¥æ‰©å±•åŽçš„æ–‡æ¡£è¿›è¡ŒåµŒå…¥ï¼Œè€ŒéžåŽŸå§‹æŸ¥è¯¢**
- **æ£€ç´¢ä¸Žè¯¥å‡è®¾æ–‡æ¡£ç›¸ä¼¼çš„æ–‡æ¡£**
- **ä»Žè€Œç”Ÿæˆæ›´åŠ ä¸Šä¸‹æ–‡ç›¸å…³çš„å›žç­”**

------
å®žçŽ°æ­¥éª¤ï¼š

- ä»ŽPDFæ–‡ä»¶ä¸­æå–æ–‡æœ¬å†…å®¹
- åˆ†å‰²æ–‡æœ¬ä¸ºå—
- åˆ›å»ºä¸€ä¸ªå‘é‡å­˜å‚¨ï¼Œå°†æ–‡æœ¬å—å’Œå…ƒæ•°æ®å­˜å‚¨ä¸ºå‘é‡
- æ ¹æ®ç”¨æˆ·æŸ¥è¯¢ï¼Œåˆ©ç”¨æ¨¡åž‹å›žç­”ç”¨æˆ·çš„æŸ¥è¯¢ï¼ˆç”Ÿæˆå‡è®¾æ€§æ–‡æ¡£ï¼‰
- ä¸ºå‡è®¾æ–‡æ¡£åˆ›å»ºåµŒå…¥
- æ ¹æ®å‡è®¾æ–‡æ¡£æ£€ç´¢ç›¸ä¼¼çš„ç‰‡æ®µ
- ç„¶åŽåˆ©ç”¨æ£€ç´¢åˆ°çš„ç‰‡æ®µæž„æˆä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆå›žç­”

![](data/images/HyDE.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/19_HyDE_rag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/19_HyDE_rag_core.py)

## Crag

å®žçŽ°**çº é”™åž‹RAGï¼ˆCorrective RAGï¼‰**â€”â€”ä¸€ç§å…ˆè¿›çš„æ–¹æ³•ï¼Œèƒ½å¤ŸåŠ¨æ€è¯„ä¼°æ£€ç´¢åˆ°çš„ä¿¡æ¯ï¼Œå¹¶åœ¨å¿…è¦æ—¶å¯¹æ£€ç´¢è¿‡ç¨‹è¿›è¡Œä¿®æ­£ï¼Œä½¿ç”¨ç½‘ç»œæœç´¢ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆã€‚

-----
CRAG åœ¨ä¼ ç»Ÿ RAG çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä»¥ä¸‹æ”¹è¿›ï¼š

- åœ¨ä½¿ç”¨å‰å¯¹æ£€ç´¢åˆ°çš„å†…å®¹è¿›è¡Œè¯„ä¼°
- æ ¹æ®ç›¸å…³æ€§åŠ¨æ€åˆ‡æ¢ä¸åŒçš„çŸ¥è¯†æº
- å½“æœ¬åœ°çŸ¥è¯†ä¸è¶³ä»¥å›žç­”é—®é¢˜æ—¶ï¼Œé€šè¿‡ç½‘ç»œæœç´¢ä¿®æ­£æ£€ç´¢ç»“æžœ
- åœ¨é€‚å½“æ—¶åˆå¹¶å¤šä¸ªæ¥æºçš„ä¿¡æ¯

-----
å®žçŽ°æ­¥éª¤ï¼š

- å¤„ç†æ–‡æ¡£å¹¶åˆ›å»ºå‘é‡æ•°æ®åº“
- åˆ›å»ºæŸ¥è¯¢åµŒå…¥å¹¶æ£€ç´¢æ–‡æ¡£
- è¯„ä¼°æ–‡æ¡£ç›¸å…³æ€§ï¼šå¯¹æ£€ç´¢åˆ°çš„å†…å®¹è¿›è¡Œè¯„ä¼°ã€‚
- æ ¹æ®æƒ…å†µæ‰§è¡Œç›¸åº”çš„çŸ¥è¯†èŽ·å–ç­–ç•¥ï¼šé«˜ç›¸å…³æ€§ï¼ˆè¯„ä¼°åˆ†æ•°>0.7ï¼‰,ç›´æŽ¥ä½¿ç”¨æ–‡æ¡£å†…å®¹ï¼›ä½Žç›¸å…³æ€§ï¼ˆè¯„ä¼°åˆ†æ•°<
  0.3ï¼‰ä½¿ç”¨ç½‘ç»œæœç´¢ï¼›ä¸­ç­‰ç›¸å…³æ€§ï¼ˆ0.3-0.7ï¼‰ç»“åˆæ–‡æ¡£ä¸Žç½‘ç»œæœç´¢ç»“æžœï¼Œå¹¶å°†æ–‡æ¡£ç»“æžœä¸Žç½‘ç»œæœç´¢ç»“æžœè¿›è¡Œåˆå¹¶ã€‚åœ¨æ··åˆæœç´¢ä¸­ï¼Œéœ€è¦å°†æœç´¢å‡ºæ¥çš„å†…å®¹ï¼Œè¿›è¡Œæ¨¡åž‹æç‚¼ï¼Œé¿å…å†…å®¹é‡å¤å†—ä½™ã€‚
- ç”Ÿæˆæœ€ç»ˆå›žç­”

![](data/images/Crag.webp)

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/20_crag.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/20_crag_core.py)

## åˆ†å—æŠ€æœ¯

### ä¸åŒå—å¤§å°

é€‰æ‹©åˆé€‚çš„å—å¤§å°å¯¹äºŽæé«˜æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰ç®¡é“çš„æ£€ç´¢å‡†ç¡®æ€§è‡³å…³é‡è¦ã€‚ç›®æ ‡æ˜¯å¹³è¡¡æ£€ç´¢æ€§èƒ½ä¸Žå“åº”è´¨é‡ã€‚

-----
ä»¥ä¸‹æ–¹å¼è¯„ä¼°ä¸åŒçš„å—å¤§å°:

- ä»Ž PDF ä¸­æå–æ–‡æœ¬
- å°†æ–‡æœ¬åˆ†å‰²æˆä¸åŒå¤§å°çš„å—
- ä¸ºæ¯ä¸ªå—åˆ›å»ºåµŒå…¥
- ä¸ºæŸ¥è¯¢æ£€ç´¢ç›¸å…³å—
- ä½¿ç”¨æ£€ç´¢åˆ°çš„å—ç”Ÿæˆå“åº”
- è¯„ä¼°å“åº”è´¨é‡
- æ¯”è¾ƒä¸åŒå—å¤§å°çš„ç»“æžœ

-----
å®žçŽ°æ­¥éª¤:

- ä»Ž PDF ä¸­æå–æ–‡æœ¬ï¼šæŒ‰é¡µèŽ·å–é¡µé¢æ–‡æœ¬
- å°†æ–‡æœ¬åˆ†å‰²æˆä¸åŒå¤§å°çš„å—ï¼Œä¸ºæ¯ä¸ªå—åˆ›å»ºåµŒå…¥
- æ ¹æ®æŸ¥è¯¢æ£€ç´¢ç›¸å…³å—
- ä½¿ç”¨æ£€ç´¢åˆ°çš„æ–‡æœ¬å—ç”¨æ¨¡åž‹ç”Ÿæˆå›žç­”
- è¯„ä¼°ä¸åŒå¤§å°å—çš„æ£€ç´¢å›žç­”è´¨é‡

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/03_chunk_size_selector.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/03_chunk_size_selector_core.py)

### å‘½é¢˜åˆ†å—æŠ€æœ¯

å‘½é¢˜åˆ†å—æŠ€æœ¯ï¼ˆProposition Chunkingï¼‰â€”â€”è¿™æ˜¯ä¸€ç§é€šè¿‡å°†æ–‡æ¡£åˆ†è§£ä¸ºåŽŸå­çº§äº‹å®žé™ˆè¿°æ¥å®žçŽ°æ›´ç²¾å‡†æ£€ç´¢çš„å…ˆè¿›æ–¹æ³•ã€‚ä¸Žä¼ ç»Ÿä»…æŒ‰å­—ç¬¦æ•°åˆ†å‰²æ–‡æœ¬çš„åˆ†å—æ–¹å¼ä¸åŒï¼Œå‘½é¢˜åˆ†å—èƒ½ä¿æŒå•ä¸ªäº‹å®žçš„è¯­ä¹‰å®Œæ•´æ€§ã€‚

-----
å‘½é¢˜åˆ†å—é€šè¿‡ä»¥ä¸‹æ–¹å¼å®žçŽ°æ›´ç²¾ç¡®çš„æ£€ç´¢ï¼š

1. å°†å†…å®¹åˆ†è§£ä¸ºåŽŸå­åŒ–çš„ã€è‡ªåŒ…å«çš„äº‹å®žé™ˆè¿°
2. åˆ›å»ºæ›´å°ã€æ›´ç»†ç²’åº¦çš„æ£€ç´¢å•å…ƒ
3. å®žçŽ°æŸ¥è¯¢ä¸Žç›¸å…³å†…å®¹é—´æ›´ç²¾ç¡®çš„åŒ¹é…
4. è¿‡æ»¤æŽ‰ä½Žè´¨é‡æˆ–ä¸å®Œæ•´çš„å‘½é¢˜

-----
å®žçŽ°æ­¥éª¤ï¼š

- ä»ŽPDFæ–‡ä»¶ä¸­æå–æ–‡æœ¬
- ä»Žæå–çš„æ–‡æœ¬åˆ›å»ºåˆ†å—
- åˆ†å—ç”Ÿæˆå‘½é¢˜
- ä¸ºæ¯ä¸ªå‘½é¢˜è¿›è¡Œè¯„ä¼°

----

- å…·ä½“ä»£ç å®žçŽ°è¿‡ç¨‹ä¸Žåˆ†æžï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/full/14_proposition_chunking.ipynb)
- æ ¸å¿ƒå‡½æ•°ï¼Œè¯·æŸ¥çœ‹ï¼Œ[ç‚¹å‡»è·³è½¬ðŸ–±ï¸](src/core/14_propostion_chunking_core.py) 

## RESOURCES:
- https://levelup.gitconnected.com/testing-18-rag-techniques-to-find-the-best-094d166af27f
- https://github.com/FareedKhan-dev/all-rag-techniques